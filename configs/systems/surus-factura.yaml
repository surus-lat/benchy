# SURUS AI /ocr endpoint configuration for image extraction
# Tests multimodal (vision) capabilities with structured output

# System identification
system_name: "surus-factura"
provider_type: "surus_factura"

# SURUS Factura configuration
surus_factura:
  endpoint: "https://api.surus.dev/functions/v1/factura"
  api_key_env: "SURUS_API_KEY"
  timeout: 60  # Longer timeout for image processing
  max_retries: 3
  capabilities:
    supports_multimodal: true
    supports_schema: false
    supports_files: true
    supports_logprobs: false
    supports_streaming: false
    request_modes: ["raw_payload"]

# Model configuration (for tracking purposes)
model:
  name: "surus-factura"  # System identifier, not the backend model
  organization: surus-ai
  url: https://surus.lat

# Tasks to run (only image extraction compatible)
tasks:
  - "image_extraction"

# Task defaults
task_defaults:
  log_samples: true

# Task-specific configuration
image_extraction:
  # Only run facturas subtask
  tasks:
    - "facturas"
  
  defaults:
    batch_size: 5  # Conservative for image uploads
    log_samples: true
    timeout: 60
    max_retries: 3
